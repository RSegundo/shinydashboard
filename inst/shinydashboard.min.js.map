{"version":3,"sources":["../srcjs/_start.js","../srcjs/tabs.js","../srcjs/sidebar.js","../srcjs/output_binding_menu.js","../srcjs/input_binding_tabItem.js","../srcjs/input_binding_sidebarCollapsed.js","../srcjs/input_binding_sidebarmenuExpanded.js"],"names":["$","deactivateOtherTabs","$tablinks","not","this","parent","removeClass","$obj","inputBinding","data","setValue","attr","trigger","document","on","ensureActivatedTab","$startTab","filter","length","tab","hasClass","first","addClass","hide","window","toggleValue","value","next","find","console","log","menuOutputBinding","Shiny","OutputBinding","extend","scope","onValueError","el","err","unbindAll","renderError","renderValue","html","dependencies","deps","$html","parseHTML","renderHtml","className","initializeInputs","bindAll","outputBindings","register","tabItemInputBinding","InputBinding","getValue","self","anchors","children","each","_getTabName","receiveMessage","hasOwnProperty","subscribe","callback","unsubscribe","off","anchor","inputBindings","sidebarCollapsedInputBinding","getId","current","newVal","sidebarmenuExpandedInputBinding","$open","$ul","$firstChild","$anchor","prev"],"mappings":"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","file":"shinydashboard.min.js","sourcesContent":["//---------------------------------------------------------------------\n// Source file: ../srcjs/_start.js\n\n$(function() {\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/tabs.js\n\n// This function handles a special case in the AdminLTE sidebar: when there\n// is a sidebar-menu with items, and one of those items has sub-items, and\n// they are used for tab navigation. Normally, if one of the items is\n// selected and then a sub-item is clicked, both the item and sub-item will\n// retain the \"active\" class, so they will both be highlighted. This happens\n// because they're not designed to be used together for tab panels. This\n// code ensures that only one item will have the \"active\" class.\nvar deactivateOtherTabs = function() {\n  // Find all tab links under sidebar-menu even if they don't have a\n  // tabName (which is why the second selector is necessary)\n  var $tablinks = $(\".sidebar-menu a[data-toggle='tab'],\" +\n    \".sidebar-menu li.treeview > a\");\n\n  // If any other items are active, deactivate them\n  $tablinks.not($(this)).parent(\"li\").removeClass(\"active\");\n\n  // Trigger event for the tabItemInputBinding\n  var $obj = $('.sidebarMenuSelectedTabItem');\n  var inputBinding = $obj.data('shiny-input-binding');\n  if (typeof inputBinding !== 'undefined') {\n    inputBinding.setValue($obj, $(this).attr('data-value'));\n    $obj.trigger('change');\n  }\n};\n\n$(document).on('shown.bs.tab', '.sidebar-menu a[data-toggle=\"tab\"]',\n               deactivateOtherTabs);\n\n// When document is ready, if there is a sidebar menu with no activated tabs,\n// activate the one specified by `data-start-selected`, or if that's not\n// present, the first one.\nvar ensureActivatedTab = function() {\n  var $tablinks = $(\".sidebar-menu a[data-toggle='tab']\");\n\n  // If there's a `data-start-selected` attribute and we can find a tab with\n  // that name, activate it.\n  var $startTab = $tablinks.filter(\"[data-start-selected='1']\");\n  if ($startTab.length !== 0) {\n    $startTab.tab(\"show\");\n    return;\n  }\n\n  // If we got this far, just activate the first tab.\n  if (! $tablinks.parent(\"li\").hasClass(\"active\") ) {\n    $tablinks.first().tab(\"show\");\n  }\n};\n\nensureActivatedTab();\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/sidebar.js\n\n// Optionally disable sidebar (set through the `disable` argument\n// to the `dashboardSidebar` function)\nif ($(\"section.sidebar\").data(\"disable\")) {\n  $(\"body\").addClass(\"sidebar-collapse\");\n  $(\".navbar > .sidebar-toggle\").hide();\n}\n\n/*\n// Trigger \"shown\" event for elements that only become visible after\n// the corresponding menuItem is expanded (otherwise, Shiny will still\n// think they're hidden and not render them)\n$(document).on(\"click\", \".treeview > a\", function() {\n  $(this).next(\".treeview-menu\").trigger(\"shown\");\n});\n*/\n\n// Whenever the sidebar expand/collapse button is clicked:\n$(document).on(\"click\", \".sidebar-toggle\", function() {\n  // 1) Trigger the resize event (this allows images to be\n  //    responsive and resize themselves)\n  $(window).trigger(\"resize\");\n\n  // 2) Update the value for the sidebar's input binding\n  var $obj = $('.main-sidebar.shiny-bound-input');\n  var inputBinding = $obj.data('shiny-input-binding');\n  inputBinding.toggleValue($obj);\n  $obj.trigger('change');\n});\n\n// Whenever we expand a menuItem (to be expandable, it must have children),\n// update the value for the expandedItem's input binding (this is the\n// tabName of the fist subMenuItem inside the menuItem that is currently\n// expanded)\n$(document).on(\"click\", \".treeview > a\", function() {\n  var $obj = $('section.sidebar.shiny-bound-input');\n  var inputBinding = $obj.data('shiny-input-binding');\n  var value;\n  var $menu = $(this).next(\".treeview-menu\");\n  //if ($(this).next('ul.treeview-menu').text() === \"\") $(this).next('ul.treeview-menu').text(\" \");\n  //console.log( $(this).next('ul.treeview-menu').text(\" \"));\n\n  // If this menuItem was already open, then clicking on it again,\n  // should update the input binding back to null\n  if ($(this).next().hasClass(\"menu-open\")) {\n    value = null;\n    //$menu.hide(500, function() { $menu.trigger(\"hidden\"); });\n    //$menu.trigger(\"hidden\");\n    //$(this).next(\".treeview-menu\").trigger(\"hidden\");\n  } else if ($(this).next().hasClass(\"treeview-menu\")) {\n    value = $(this).next().find('a').attr('data-value');\n    console.log(value);\n    //$menu.show(500, function() { $menu.trigger(\"shown\"); });\n     //$(this).trigger(\"shown\");\n     //$menu.trigger(\"shown\");\n     //$(this).next(\".treeview-menu\").trigger(\"shown\");\n  }\n  inputBinding.setValue($obj, value);\n  $obj.trigger('change');\n  //if (value === null) $(this).next(\".treeview-menu\").trigger(\"hidden\");\n  //else $(this).trigger(\"shown\");\n});\n\n/*\n$(document).on(\"slideDown\", \".treeview-menu\", function() {\n  console.log(\"shown\");\n  $(this).trigger(\"shown\");\n});\n\n\n$(document).on(\"slideUp\", \".treeview-menu\", function() {\n  console.log(\"hidden\");\n  $(this).trigger(\"hidden\");\n});\n*/\n\n\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/output_binding_menu.js\n\n/* global Shiny */\n\n// menuOutputBinding\n// ------------------------------------------------------------------\n// Based on Shiny.htmlOutputBinding, but instead of putting the result in a\n// wrapper div, it replaces the origin DOM element with the new DOM elements,\n// copying over the ID and class.\nvar menuOutputBinding = new Shiny.OutputBinding();\n$.extend(menuOutputBinding, {\n  find: function(scope) {\n    return $(scope).find('.shinydashboard-menu-output');\n  },\n  onValueError: function(el, err) {\n    Shiny.unbindAll(el);\n    this.renderError(el, err);\n  },\n  renderValue: function(el, data) {\n    Shiny.unbindAll(el);\n\n    var html;\n    var dependencies = [];\n    if (data === null) {\n      return;\n    } else if (typeof(data) === 'string') {\n      html = data;\n    } else if (typeof(data) === 'object') {\n      html = data.html;\n      dependencies = data.deps;\n    }\n\n    var $html = $($.parseHTML(html));\n\n    // Convert the inner contents to HTML, and pass to renderHtml\n    Shiny.renderHtml($html.html(), el, dependencies);\n\n    // Extract class of wrapper, and add them to the wrapper element\n    el.className = 'shinydashboard-menu-output shiny-bound-output ' +\n                   $html.attr('class');\n\n    Shiny.initializeInputs(el);\n    Shiny.bindAll(el);\n    ensureActivatedTab(); // eslint-disable-line\n  }\n});\nShiny.outputBindings.register(menuOutputBinding,\n                              \"shinydashboard.menuOutputBinding\");\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/input_binding_tabItem.js\n\n/* global Shiny */\n\n// tabItemInputBinding\n// ------------------------------------------------------------------\n// Based on Shiny.tabItemInputBinding, but customized for tabItems in\n// shinydashboard, which have a slightly different structure.\nvar tabItemInputBinding = new Shiny.InputBinding();\n$.extend(tabItemInputBinding, {\n  find: function(scope) {\n    return $(scope).find('.sidebarMenuSelectedTabItem');\n  },\n  getValue: function(el) {\n    var value = $(el).attr('data-value');\n    if (value === \"null\") return null;\n    return value;\n  },\n  setValue: function(el, value) {\n    var self = this;\n    var anchors = $(el).parent('ul.sidebar-menu').find('li:not(.treeview)').children('a');\n    anchors.each(function() { // eslint-disable-line consistent-return\n      if (self._getTabName($(this)) === value) {\n        $(this).tab('show');\n        $(el).attr('data-value', self._getTabName($(this)));\n        return false;\n      }\n    });\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    // This event is triggered by deactivateOtherTabs, which is triggered by\n    // shown. The deactivation of other tabs must occur before Shiny gets the\n    // input value.\n    $(el).on('change.tabItemInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.tabItemInputBinding');\n  },\n  _getTabName: function(anchor) {\n    return anchor.attr('data-value');\n  }\n});\n\nShiny.inputBindings.register(tabItemInputBinding, 'shinydashboard.tabItemInput');\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/input_binding_sidebarCollapsed.js\n\n/* global Shiny */\n\n// sidebarCollapsedInputBinding\n// ------------------------------------------------------------------\n// This keeps tracks of whether the sidebar is expanded (default)\n// or collapsed\nvar sidebarCollapsedInputBinding = new Shiny.InputBinding();\n$.extend(sidebarCollapsedInputBinding, {\n  find: function(scope) {\n    return $(scope).find('.main-sidebar').first();\n  },\n  getId: function(el) {\n    return \"sidebarCollapsed\";\n  },\n  getValue: function(el) {\n    return $(el).attr(\"data-collapsed\");\n  },\n  setValue: function(el, value) {\n    $(el).attr(\"data-collapsed\", value);\n  },\n  toggleValue: function(el) {\n    var current = this.getValue(el);\n    var newVal = (current === \"true\") ? \"false\" : \"true\";\n    this.setValue(el, newVal);\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    $(el).on('change.sidebarCollapsedInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.sidebarCollapsedInputBinding');\n  }\n});\nShiny.inputBindings.register(sidebarCollapsedInputBinding,\n  'shinydashboard.sidebarCollapsedInputBinding');\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/input_binding_sidebarmenuExpanded.js\n\n/* global Shiny */\n\n// sidebarmenuExpandedInputBinding\n// ------------------------------------------------------------------\n// This keeps tracks of what menuItem (if any) is expanded\nvar sidebarmenuExpandedInputBinding = new Shiny.InputBinding();\n$.extend(sidebarmenuExpandedInputBinding, {\n  find: function(scope) {\n    return $(scope).find('section.sidebar');\n  },\n  getId: function(el) {\n    return \"sidebarItemExpanded\";\n  },\n  getValue: function(el) {\n    var $open = $(el).find('li ul.menu-open');\n    if ($open.length === 1) return $open.find('a').attr('data-value');\n    else return null; // no menuItem is expanded\n  },\n  setValue: function(el, value) {\n    /*\n    var $anchor = $('.sidebar-menu li a');\n    if (value !== null)\n      $anchor = $('a[data-value=\"' + value + '\"]').parent().parent().prev('a');\n    console.log($anchor);\n    $(document).trigger(\"click\", $anchor);\n    */\n\n    var $ul;\n    if (value !== null) {\n      var $firstChild = $('a[data-value=\"' + value + '\"]');\n      $ul = $firstChild.parent().parent('.treeview-menu');\n      $(document).trigger('click', '.sidebar li a[data-value=\"' + value + '\"]');\n      //$ul.trigger(\"shown\");\n      //$ul.addClass('menu-open');\n      //$ul.show();\n    } else {\n      $ul = $(el).find('li ul.menu-open');\n      var $anchor = $ul.prev('a');\n      //console.log($ul)\n      $(document).trigger('click', $anchor);\n      //$ul.removeClass('menu-open');\n      //$ul.hide();\n      //$ul.trigger(\"hidden\");\n    }\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    $(el).on('change.sidebarmenuExpandedInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.sidebarmenuExpandedInputBinding');\n  }\n});\nShiny.inputBindings.register(sidebarmenuExpandedInputBinding,\n  'shinydashboard.sidebarmenuExpandedInputBinding');\n"]}